Last login: Tue Jun 13 15:39:59 2023 from 192.168.30.95
--- JUNOS 22.3R1-S2.2-EVO Linux (none) 5.2.60-yocto-standard-g9a086a2b7 #1 SMP PREEMPT Sun Jul 31 00:59:20 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux
cli
set cli screen-length 0
show configuration | no-more
exit
toob@ptx10001-7> cli
                 ^
unknown command.

toob@ptx10001-7> set cli screen-length 0 
Screen length set to 0

toob@ptx10001-7> show configuration | no-more 
## Last commit: 2023-06-13 14:05:37 CEST by gvlachos
version 22.3R1-S2.2-EVO;
groups {
    sonet {
        interfaces {
            <so-*> {
                sonet-options {
                    rfc-2615;
                }
            }
        }
    }
    isis-mpls {
        interfaces {
            <*-*> {
                unit <*> {
                    family iso;
                    family mpls;
                }
            }
        }
    }
    OSPF-LFA-SYNC {
        protocols {
            ospf {
                backup-spf-options {
                    per-prefix-calculation all;
                }
                traffic-engineering;
                area 0.0.0.0 {
                    interface <*> {
                        node-link-protection;
                        ldp-synchronization;
                    }
                }
            }
            ospf3 {
                backup-spf-options {
                    per-prefix-calculation all;
                }
                area 0.0.0.0 {
                    interface <*> {
                        node-link-protection;
                    }
                }
            }
        }
    }
    BFD_OSPF {
        protocols {
            ospf {
                area 0.0.0.0 {
                    interface <*> {
                        bfd-liveness-detection {
                            minimum-interval 300;
                            multiplier 3;
                            full-neighbors-only;
                        }
                    }
                }
            }
            ospf3 {
                area 0.0.0.0 {
                    interface <*> {
                        bfd-liveness-detection {
                            minimum-interval 300;
                            multiplier 3;
                            full-neighbors-only;
                        }
                    }
                }
            }
        }
    }
    BGP-BFD {
        routing-instances {
            <*> {
                protocols {
                    bgp {
                        group <*> {
                            multipath;
                            bfd-liveness-detection {
                                minimum-interval 300;
                                multiplier 3;
                            }
                        }
                    }
                }
            }
        }
        protocols {
            bgp {
                group <*> {
                    multipath;
                    bfd-liveness-detection {
                        minimum-interval 300;
                        multiplier 3;
                    }
                }
            }
        }
    }
}
apply-groups [ sonet OSPF-LFA-SYNC BFD_OSPF BGP-BFD ];
system {
    host-name ptx10001-7;
    root-authentication {
        encrypted-password "$1$/NHg28eO$pqaVlLlPQ2thlQQ0ZB.Vx/"; ## SECRET-DATA
    }
    commit synchronize;
    login {
        user gvlachos {
            uid 5013;
            class super-user;
            authentication {
                ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDLKUPCAf/USLrvvWqrf9Q1lUTAtBGxhTxZKKB3C+O3ZXnafvwPoEddQJi+jTmt6yvaQCU78ct1TLW1mRKxSk+V7vEIrzV5FSztWj1/tdsEL+oswK0l89uxKijEyqSr7yOEXIqbPgVceNw/hnCo0624p9KfPdr+vNTfl/DSheKZhxWDFTtQL/Fc/5+dviEovA5xcls/iHMz3o3NWp2JqoRRpRb7RW4BlYittmgoSr/GhWDPbXdIqrfrAi310tnt6PAvooNiixIH9hxIXORbBCvmLHBqRsZ/qiMhELayqRdKR7cjpZipOVVWiYLzGqHx+H62qBy2PY2bC1BgrN3K5v5ROlgvaTXRV/NFWAcxhVM4JeDnwL7R5ckIVV7/Rr8uT8u6Ku8phDM9kSv7+Vjl6t4IKMXYQFk8K/objUDAz2fNI4q1mgFlWsu65rz3A+U7y9bFw+BzY7IDKvznYLLMz/r1fsF9Ut8n7iQGnXPezdTLn8l0CuGylpU6Rb0TkC+AwaU= gvlachos@gvlachos-mbp"; ## SECRET-DATA
            }
        }
        user remote {
            uid 2000;
            class super-user;
        }
    }
    services {
        ssh {
            client-alive-interval 120;
        }
        ftp;
        telnet;
        xnm-clear-text;
        netconf {
            ssh;
        }
        web-management {
            http;
        }
    }
    domain-name poc-nl.jnpr.net;
    backup-router 172.30.178.1 destination 172.30.176.0/20;
    time-zone Europe/Amsterdam;
    authentication-order radius;
    ports {
        console log-out-on-disconnect;
    }
    name-server {
        172.30.207.10;
        172.30.207.13;
    }
    radius-server {
        172.30.176.9 {
            secret "$9$DMHPTz36CtOqmBEclLXik.mfT6/t1Eyn/"; ## SECRET-DATA
            retry 3;
        }
        172.30.178.4 {
            secret "$9$CgY9p1EcylvWx0B7VwgUDtuOBIEleWNVYre"; ## SECRET-DATA
            retry 3;
        }
    }
    syslog {
        user * {
            any emergency;
        }
        host 172.30.189.13 {
            any notice;
            authorization info;
            interactive-commands info;
        }
        host 172.30.189.14 {
            any notice;
            authorization info;
            interactive-commands info;
        }
        file messages {
            any notice;
            authorization info;
        }
    }
    compress-configuration-files;
    ntp {
        boot-server 172.30.207.10; ## Warning: 'boot-server' is deprecated
        server 172.30.207.10;
    }
}
chassis {
    aggregated-devices {
        ethernet {
            device-count 10;
        }
    }
}
interfaces {
    et-0/0/3 {
        description to-ptx10001-6;
        speed 100g;
        ether-options {
            802.3ad ae1;
        }
    }
    et-0/0/4 {
        description to-ptx10001-6;
        ether-options {
            802.3ad ae1;
        }
    }
    et-0/0/5 {
        description to-acx7100-6;
        ether-options {
            802.3ad ae2;
        }
    }
    et-0/0/6 {
        description to-srx4600-4;
        ether-options {
            802.3ad ae3;
        }
    }
    et-0/0/7 {
        description to-srx4600-4;
        speed 100g;
        ether-options {
            802.3ad ae3;
        }
    }
    et-0/0/8 {
        description to-mx204-16;
        speed 100g;
        ether-options {
            802.3ad ae0;
        }
    }
    et-0/0/9 {
        description to-mx204-16;
        speed 100g;
        ether-options {
            802.3ad ae0;
        }
    }
    et-0/1/4 {
        unit 0 {
            family inet {
                address 7.1.1.1/30;
            }
            family inet6 {
                address 2001:7:1:1::1/126;
            }
        }
    }
    et-0/1/5 {
        description to-acx7100-6;
        ether-options {
            802.3ad ae2;
        }
    }
    et-0/1/10 {
        speed 100g;
    }
    et-0/2/0 {
        speed 100g;
    }
    ae0 {
        disable;
        flexible-vlan-tagging;
        mtu 9216;
        encapsulation flexible-ethernet-services;
        aggregated-ether-options {
            lacp {
                active;
                periodic fast;
            }
        }
        unit 100 {
            vlan-id 100;
            family inet {
                address 10.100.0.41/31;
            }
            family inet6 {
                address 2a0e:cb00:700b:100::41/127;
            }
            family mpls;
        }
        unit 200 {
            vlan-id 200;
            family inet {
                address 10.200.0.41/31;
            }
            family inet6 {
                address 2a0e:cb00:700b:200::41/127;
            }
        }
    }
    ae1 {
        mtu 9216;
        aggregated-ether-options {
            lacp {
                active;
                periodic fast;
            }
        }
        unit 0 {
            family inet {
                address 10.100.0.15/31;
            }
            family inet6 {
                address 2a0e:cb00:700b:100::15/127;
            }
            family mpls;
        }
    }
    ae2 {
        mtu 9216;
        aggregated-ether-options {
            lacp {
                active;
                periodic fast;
            }
        }
        unit 0 {
            family inet {
                address 10.100.0.3/31;
            }
            family inet6 {
                address 2a0e:cb00:700b:100::3/127;
            }
            family mpls;
        }
    }
    ae3 {
        disable;
        flexible-vlan-tagging;
        mtu 9196;
        encapsulation flexible-ethernet-services;
        aggregated-ether-options {
            lacp {
                active;
                periodic fast;
            }
        }
        unit 100 {
            vlan-id 100;
            family inet {
                address 10.100.0.6/31;
            }
            family inet6 {
                address 2a0e:cb00:700b:100::6/127;
            }
        }
        unit 200 {
            vlan-id 200;
            family inet {
                address 10.200.0.6/31;
            }
            family inet6 {
                address 2a0e:cb00:700b:200::6/127;
            }
        }
    }
    lo0 {
        unit 0 {
            family inet {
                address 145.1.1.2/32;
            }
            family inet6 {
                address 2a0e:cb00:aaaa::2/128;
            }
        }
        unit 111 {
            family inet {
                address 145.1.111.2/32;
            }
        }
    }
    re0:mgmt-0 {
        unit 0 {
            family inet {
                address 172.30.178.120/24;
            }
        }
    }
}
snmp {
    location "AMS, EPOC location=0.2.02";
    contact "emea-poc@juniper.net";
    community public {
        authorization read-only;
        clients {
            172.30.0.0/16;
            0.0.0.0/0 restrict;
        }
    }
    community private {
        authorization read-write;
        clients {
            172.30.0.0/16;
            0.0.0.0/0 restrict;
        }
    }
    trap-options {
        source-address 172.30.178.120;
    }
}
policy-options {
    policy-statement ECMP {
        then {
            load-balance per-packet;
        }
    }
    policy-statement adv_def {
        term 1 {
            from {
                protocol aggregate;
                route-filter 0.0.0.0/0 exact;
            }
            then accept;
        }
    }
    policy-statement cgnat-exp {
        term 1 {
            from {
                protocol aggregate;
                route-filter 0.0.0.0/0 exact;
            }
            then {
                community add ptx-7;
                accept;
            }
        }
        term 2 {
            then reject;
        }
    }
    policy-statement from_ebgp_ixia {
        term 1 {
            from {
                instance INTERNET;
                protocol bgp;
                neighbor 7.1.1.2;
            }
            then accept;
        }
        term 2 {
            then reject;
        }
    }
    policy-statement from_ebgp_ixiav6 {
        term 1 {
            from {
                instance INTERNET;
                protocol bgp;
                neighbor 2001:7:1:1::2;
            }
            then accept;
        }
        term 2 {
            then reject;
        }
    }
    policy-statement internet-export-vpn {
        term 1 {
            from {
                protocol aggregate;
                route-filter 0.0.0.0/0 exact;
            }
            then {
                community set internet-vpn;
                accept;
            }
        }
        term 2 {
            from {
                protocol aggregate;
                route-filter 0::0/0 exact;
            }
            then {
                community set internet-vpn;
                accept;
            }
        }
        term 3 {
            from {
                protocol bgp;
                route-filter 6000:0:1:1::/64 exact;
                route-filter 7000:1:1:1::/64 exact;
                route-filter 8000:0:1:1::/64 exact;
            }
            then {
                community set internet-vpn;
                accept;
            }
        }
        term 4 {
            from {
                protocol bgp;
                route-filter 80.1.0.0/24 exact;
                route-filter 70.1.0.0/24 exact;
                route-filter 60.1.0.0/24 exact;
            }
            then {
                community set internet-vpn;
                accept;
            }
        }
        term 5 {
            then reject;
        }
    }
    policy-statement ipv6-import-vpn {
        term 1 {
            from {
                family inet6;
                community target:65100:651;
            }
            then accept;
        }
        term 2 {
            from community target:65100:661;
            then accept;
        }
    }
    policy-statement nhs {
        term 1 {
            from {
                family inet;
                protocol bgp;
                neighbor 7.1.1.2;
                external;
            }
            then {
                next-hop self;
            }
        }
        term 2 {
            from {
                family inet6;
                protocol bgp;
                neighbor 2001:7:1:1::2;
                external;
            }
            then {
                next-hop self;
            }
        }
    }
    community internet-vpn members [ 65222:1 target:65100:661 ];
    community ptx-7 members 65100:1007;
    community srx1 members 65130:1001;
    community srx2 members 65140:1002;
    community target:65100:651 members target:65100:651;
    community target:65100:661 members target:65100:661;
}
routing-instances {
    INTERNET {
        instance-type vrf;
        routing-options {
            rib INTERNET.inet6.0 {
                aggregate {
                    route 0::/0 {
                        policy from_ebgp_ixiav6;
                        discard;
                    }
                }
            }
            autonomous-system {
                65222;
                independent-domain;
            }
            aggregate {
                route 0.0.0.0/0 {
                    policy from_ebgp_ixia;
                    discard;
                }
            }
            inactive: auto-export;
        }
        protocols {
            bgp {
                group srx_inet {
                    type external;
                    family inet {
                        unicast;
                    }
                    export cgnat-exp;
                    multipath;
                    neighbor 10.100.0.7 {
                        local-address 10.100.0.6;
                        family inet {
                            unicast {
                                loops 2;
                            }
                        }
                        peer-as 65140;
                    }
                }
                group ebgp-v4 {
                    apply-groups-except BGP-BFD;
                    neighbor 7.1.1.2 {
                        local-address 7.1.1.1;
                        peer-as 6000;
                    }
                }
                group ebgp-v6 {
                    apply-groups-except BGP-BFD;
                    neighbor 2001:7:1:1::2 {
                        local-address 2001:7:1:1::1;
                        peer-as 6000;
                    }
                }
                local-as 65222;
            }
        }
        description "Internet VRF";
        interface et-0/1/4.0;
        interface ae3.100;
        interface lo0.111;
        route-distinguisher 145.1.111.2:661;
        vrf-import ipv6-import-vpn;
        vrf-export internet-export-vpn;
        vrf-target target:65100:661;
        vrf-table-label;
    }
    vrf_inside {
        instance-type vrf;
        routing-options {
            autonomous-system {
                65070;
                independent-domain;
            }
        }
        protocols {
            bgp {
                group ebgp-inside {
                    type external;
                    local-address 10.200.0.6;
                    family inet {
                        unicast;
                    }
                    peer-as 65140;
                    local-as 65070;
                    multipath;
                    neighbor 10.200.0.7;
                }
            }
        }
        interface ae3.200;
        route-distinguisher 145.1.1.2:651;
        vrf-target target:65100:651;
        vrf-table-label;
    }
}
routing-options {
    router-id 145.1.1.2;
    autonomous-system 65100;
    static {
        route 172.16.0.0/12 {
            next-hop 172.30.178.1;
            no-readvertise;
        }
        route 10.0.0.0/8 {
            next-hop 172.30.178.1;
            no-readvertise;
        }
        route 192.168.30.0/24 next-hop 172.30.178.1;
    }
    inactive: aggregate {
        route 0.0.0.0/0 {
            policy from_ebgp_ixia;
            discard;
        }
    }
    forwarding-table {
        export ECMP;
    }
}
protocols {
    bgp {
        group rr {
            local-address 145.1.1.2;
            family inet {
                unicast;
            }
            family inet-vpn {
                unicast;
            }
            family inet6 {
                unicast;
            }
            family inet6-vpn {
                unicast;
            }
            family evpn {
                signaling;
            }
            export [ nhs adv_def ];
            cluster 145.1.1.2;
            peer-as 65100;
            multipath;
            neighbor 145.1.1.3;
            neighbor 145.1.1.4;
            neighbor 145.1.1.5;
            neighbor 145.1.1.6;
            neighbor 145.1.1.7;
            neighbor 145.1.1.8;
        }
        group rr-rr {
            local-address 145.1.1.2;
            family inet {
                unicast;
                any {
                    loops 2;
                }
            }
            family inet-vpn {
                unicast {
                    loops 2;
                }
            }
            family inet6 {
                unicast;
            }
            family inet6-vpn {
                unicast;
            }
            family evpn {
                signaling;
            }
            export nhs;
            peer-as 65100;
            multipath;
            neighbor 145.1.1.1;
        }
        inactive: group ebgp-v4 {
            neighbor 7.1.1.2 {
                local-address 7.1.1.1;
                peer-as 6000;
            }
        }
        inactive: group ebgp-v6 {
            neighbor 2001:7:1:1::2 {
                local-address 2001:7:1:1::1;
                peer-as 6000;
            }
        }
        inactive: group srxcgnat {
            type internal;
            export cgnat-exp;
            cluster 145.1.1.2;
            multipath;
            neighbor 145.1.1.9 {
                family inet {
                    unicast {
                        loops 2;
                    }
                }
                peer-as 65030;
                local-as 65030;
            }
            neighbor 145.1.1.10 {
                family inet {
                    unicast {
                        loops 2;
                    }
                }
                peer-as 65040;
                local-as 65040;
            }
        }
    }
    ldp {
        track-igp-metric;
        interface ae0.100;
        interface ae1.0;
        interface ae2.0;
        interface lo0.0;
    }
    mpls {
        ipv6-tunneling;
        interface ae1.0;
        interface ae2.0;
        interface ae0.100;
    }
    ospf {
        area 0.0.0.0 {
            interface lo0.0 {
                passive;
            }
            interface ae0.100 {
                interface-type p2p;
            }
            interface ae1.0 {
                interface-type p2p;
            }
            interface ae2.0 {
                interface-type p2p;
            }
        }
        reference-bandwidth 1000g;
    }
    ospf3 {
        area 0.0.0.0 {
            interface lo0.0 {
                passive;
            }
            interface ae0.100 {
                interface-type p2p;
            }
            interface ae1.0 {
                interface-type p2p;
            }
            interface ae2.0 {
                interface-type p2p;
            }
        }
        reference-bandwidth 1000g;
    }
    lldp {
        port-id-subtype interface-name;
        neighbour-port-info-display port-id;
        interface all;
    }
}

toob@ptx10001-7> exit 

